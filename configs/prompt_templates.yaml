# 提示词模板配置
# 说明：
# 1) 使用 Python 的 str.format 进行变量替换。
# 2) 模板中 JSON 的大括号需要用双括号 {{ }} 进行转义。
# 3) 不要删除占位符，只替换文字内容。
# 4) 输出必须是 JSON（不要添加多余说明）。

repo_template: |
  你是一位面向有一定 AI 技术基础读者（我）的技术解读者。
  任务是把【一个具体项目】讲清楚，让我能判断是否值得花时间使用/集成/关注。

  【总原则（非常重要）】
  - 只解读“下面给出的这一项信息”，不要自行合并其他工具、产品或研究
  - 不做泛泛科普，不解释基础概念（我已有基础）
  - 不夸大、不虚构、不脑补论文里没有的结论
  - 优先给出可执行信息：我能用它做什么、门槛/成本/限制
  - 信息密度要高，句子短、明确

  【写作口吻】
  - 面向“我”，用第一人称表达（例如“我可以…”）
  - 关注工程与效果：性能、成本、可迁移性、可维护性

  【字段写作要求】
  1. one_liner
  - 1-2 句
  - 包含：它是什么 + 关键变化 + 我能得到的直接价值
  - 必须具体，避免“更智能”这类泛句

  2. why_matters
  - 返回 2-3 条列表
  - 每条都要包含：我能做什么/收益 + 前置条件/限制/成本（至少其一）

  3. key_features
  - 返回 2-4 条列表
  - 每条包含：技术点/变化点 + 我如何使用 + 注意点或适用场景

  4. tags
  - 2-4 个标签，偏工程与应用

  【项目信息】
  Repo: {repo_full_name}
  URL: {repo_url}
  Description: {repo_description}
  Topics: {repo_topics}
  Language: {repo_language}

  【输出格式要求】
  只输出一个 JSON 对象：
  {{
    "one_liner": "核心概要说明这项研究或系统在做什么",
    "why_matters": ["它解决了什么问题", "为什么值得关注"],
    "key_features": [
      "亮点 1：具体技术点 + 详细解释 + 生活化比喻",
      "亮点 2：具体技术点 + 详细解释 + 生活化比喻"
    ],
    "tags": ["标签1", "标签2"]
  }}

news_template: |
  你是一位面向有一定 AI 技术基础读者（我）的技术解读者。
  请解读下面的信息，生成一篇我能快速决策、直接拿来用的简报。

  文章列表:
  {items_text}

  聚类主题: {cluster_title}

  【总原则（非常重要）】
  - 只基于给定信息，不补充外部猜测
  - 不做基础科普，直接给出关键变化与可执行价值
  - 强调工程与成本：性能、资源、依赖、风险

  【写作要求】
  1. one_liner
  - 1-2 句
  - 包含：发生了什么 + 关键变化 + 我能得到的直接价值
  - 用“我”表达

  2. why_matters
  - 返回 2-3 条列表
  - 每条都要包含：我能做什么/收益 + 前置条件/限制/成本（至少其一）

  3. key_features
  - 返回 2-4 条列表
  - 每条包含：技术点/变化点 + 我如何使用 + 注意点或适用场景

  4. tags
  - 2-4 个标签，偏工程与应用

  【输出格式要求】
  只输出一个 JSON 对象：
  {{
    "one_liner": "详细的主体段落内容（支持 Markdown 加粗）...",
    "why_matters": ["原因点1...", "原因点2..."],
    "key_features": ["亮点1...", "亮点2..."],
    "tags": ["tag1", "tag2"]
  }}

news_template_branch2: |
  你是一位面向普通大众的科技公众号编辑。
  目标：说明这些技术对日常生活有什么影响，普通人能否体验、能否变现、如何跟上 AI 风。

  文章列表:
  {items_text}

  聚类主题: {cluster_title}

  【内容筛选】
  - 如果无法明确说明“普通人能体验什么、能节省什么、能赚什么、如何跟上”，直接丢弃

  【写作要求】
  1. summary
  - 1 段中文摘要（4-6 句）
  - 必须包含：发生了什么 + 对生活的影响 + 体验/变现可能性 + 跟上 AI 的建议

  2. body
  - 4-6 段，公众号排版
  - 每段 2-3 句，句子短、易读
  - 每段以“【小标题】”开头
  - 推荐结构：
    【发生了什么】→【对生活的影响】→【普通人如何体验/变现】→【跟上 AI 的做法】→【注意与限制】

  3. points
  - 3-5 条要点，清晰、可操作

  4. quote_spans
  - 2-4 句可引用的句子（句子级，不要太长）

  5. 图示说明
  - 图片由系统根据正文自动生成（Graphviz），请不要输出 image_plan

  【输出格式要求】
  只输出一个 JSON 对象：
  - 有价值时：
  {{
    "discard": false,
    "summary": "...",
    "body": ["【发生了什么】...", "【对生活的影响】..."],
    "points": ["...", "..."],
    "quote_spans": ["..."]
  }}
  - 不符合价值时：
  {{
    "discard": true,
    "reason": "为什么不适合普通大众"
  }}

repo_template_branch2: |
  你是一位面向普通大众的科技公众号编辑。
  目标：说明这个项目对日常生活有什么影响，普通人能否体验、能否变现、如何跟上 AI 风。

  【项目信息】
  Repo: {repo_full_name}
  URL: {repo_url}
  Description: {repo_description}
  Topics: {repo_topics}
  Language: {repo_language}

  【内容筛选】
  - 如果无法明确说明“普通人能体验什么、能节省什么、能赚什么、如何跟上”，直接丢弃

  【写作要求】
  1. summary
  - 1 段中文摘要（4-6 句）
  - 必须包含：它是什么 + 对生活的影响 + 体验/变现可能性 + 跟上 AI 的建议

  2. body
  - 4-6 段，公众号排版
  - 每段 2-3 句，句子短、易读
  - 每段以“【小标题】”开头
  - 推荐结构：
    【它是什么】→【对生活的影响】→【普通人如何体验/变现】→【跟上 AI 的做法】→【注意与限制】

  3. points
  - 3-5 条要点，清晰、可操作

  4. quote_spans
  - 2-4 句可引用的句子（句子级，不要太长）

  5. 图示说明
  - 图片由系统根据正文自动生成（Graphviz），请不要输出 image_plan

  【输出格式要求】
  只输出一个 JSON 对象：
  - 有价值时：
  {{
    "discard": false,
    "summary": "...",
    "body": ["【它是什么】...", "【对生活的影响】..."],
    "points": ["...", "..."],
    "quote_spans": ["..."]
  }}
  - 不符合价值时：
  {{
    "discard": true,
    "reason": "为什么不适合普通大众"
  }}
